"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const utils_1 = require("./utils");
function merge_sort(arr, compare = utils_1.default_comparer) {
    const length = arr.length;
    if (length <= 1)
        return arr;
    const arr1 = merge_sort(arr.slice(0, length >> 1));
    const arr2 = merge_sort(arr.slice(length >> 1));
    let p1 = 0;
    let p2 = 0;
    const ans = [];
    while (p1 < arr1.length && p2 < arr2.length) {
        if (compare(arr1[p1], arr2[p2]) === utils_1.Ordering.Less) {
            ans.push(arr1[p1]);
            ++p1;
        }
        else {
            ans.push(arr2[p2]);
            ++p2;
        }
    }
    while (p1 < arr1.length) {
        ans.push(arr1[p1]);
        ++p1;
    }
    while (p2 < arr2.length) {
        ans.push(arr2[p2]);
        ++p2;
    }
    return ans;
}
exports.default = merge_sort;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWVyZ2Vfc29ydC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9tZXJnZV9zb3J0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsbUNBQTJFO0FBRTNFLFNBQVMsVUFBVSxDQUF1QixHQUFhLEVBQUUsVUFBdUIsd0JBQWdCO0lBQy9GLE1BQU0sTUFBTSxHQUFHLEdBQUcsQ0FBQyxNQUFNLENBQUM7SUFDMUIsSUFBSSxNQUFNLElBQUksQ0FBQztRQUFFLE9BQU8sR0FBRyxDQUFDO0lBQzVCLE1BQU0sSUFBSSxHQUFHLFVBQVUsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxNQUFNLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNuRCxNQUFNLElBQUksR0FBRyxVQUFVLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxNQUFNLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNoRCxJQUFJLEVBQUUsR0FBRyxDQUFDLENBQUM7SUFDWCxJQUFJLEVBQUUsR0FBRyxDQUFDLENBQUM7SUFDWCxNQUFNLEdBQUcsR0FBRyxFQUFFLENBQUM7SUFDZixPQUFPLEVBQUUsR0FBRyxJQUFJLENBQUMsTUFBTSxJQUFJLEVBQUUsR0FBRyxJQUFJLENBQUMsTUFBTSxFQUFFO1FBQzVDLElBQUksT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsS0FBSyxnQkFBUSxDQUFDLElBQUksRUFBRTtZQUNsRCxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQ25CLEVBQUUsRUFBRSxDQUFDO1NBQ0w7YUFBTTtZQUNOLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDbkIsRUFBRSxFQUFFLENBQUM7U0FDTDtLQUNEO0lBQ0QsT0FBTyxFQUFFLEdBQUcsSUFBSSxDQUFDLE1BQU0sRUFBRTtRQUN4QixHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQ25CLEVBQUUsRUFBRSxDQUFDO0tBQ0w7SUFDRCxPQUFPLEVBQUUsR0FBRyxJQUFJLENBQUMsTUFBTSxFQUFFO1FBQ3hCLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDbkIsRUFBRSxFQUFFLENBQUM7S0FDTDtJQUNELE9BQU8sR0FBRyxDQUFDO0FBQ1osQ0FBQztBQUVELGtCQUFlLFVBQVUsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBhcmUsIENvbXBhcmVUeXBlLCBPcmRlcmluZywgZGVmYXVsdF9jb21wYXJlciB9IGZyb20gXCIuL3V0aWxzXCI7XG5cbmZ1bmN0aW9uIG1lcmdlX3NvcnQ8VCBleHRlbmRzIENvbXBhcmU8VD4+KGFycjogQXJyYXk8VD4sIGNvbXBhcmU6IENvbXBhcmVUeXBlID0gZGVmYXVsdF9jb21wYXJlcik6IEFycmF5PFQ+IHtcblx0Y29uc3QgbGVuZ3RoID0gYXJyLmxlbmd0aDtcblx0aWYgKGxlbmd0aCA8PSAxKSByZXR1cm4gYXJyO1xuXHRjb25zdCBhcnIxID0gbWVyZ2Vfc29ydChhcnIuc2xpY2UoMCwgbGVuZ3RoID4+IDEpKTtcblx0Y29uc3QgYXJyMiA9IG1lcmdlX3NvcnQoYXJyLnNsaWNlKGxlbmd0aCA+PiAxKSk7XG5cdGxldCBwMSA9IDA7XG5cdGxldCBwMiA9IDA7XG5cdGNvbnN0IGFucyA9IFtdO1xuXHR3aGlsZSAocDEgPCBhcnIxLmxlbmd0aCAmJiBwMiA8IGFycjIubGVuZ3RoKSB7XG5cdFx0aWYgKGNvbXBhcmUoYXJyMVtwMV0sIGFycjJbcDJdKSA9PT0gT3JkZXJpbmcuTGVzcykge1xuXHRcdFx0YW5zLnB1c2goYXJyMVtwMV0pO1xuXHRcdFx0KytwMTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0YW5zLnB1c2goYXJyMltwMl0pO1xuXHRcdFx0KytwMjtcblx0XHR9XG5cdH1cblx0d2hpbGUgKHAxIDwgYXJyMS5sZW5ndGgpIHtcblx0XHRhbnMucHVzaChhcnIxW3AxXSk7XG5cdFx0KytwMTtcblx0fVxuXHR3aGlsZSAocDIgPCBhcnIyLmxlbmd0aCkge1xuXHRcdGFucy5wdXNoKGFycjJbcDJdKTtcblx0XHQrK3AyO1xuXHR9XG5cdHJldHVybiBhbnM7XG59XG5cbmV4cG9ydCBkZWZhdWx0IG1lcmdlX3NvcnQ7XG4iXX0=